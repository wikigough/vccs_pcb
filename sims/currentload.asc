Version 4
SHEET 1 4312 1300
WIRE 3136 -112 2944 -112
WIRE 3136 -64 3136 -112
WIRE 2944 16 2944 -112
WIRE 3136 48 3136 16
WIRE 2944 80 2944 16
WIRE 2512 144 2496 144
WIRE 2592 144 2576 144
WIRE 2688 192 2688 176
WIRE 1888 224 1856 224
WIRE 1952 224 1888 224
WIRE 2096 224 2032 224
WIRE 2176 224 2096 224
WIRE 2304 224 2256 224
WIRE 2480 240 2432 240
WIRE 2496 240 2496 144
WIRE 2496 240 2480 240
WIRE 2512 240 2496 240
WIRE 2592 240 2592 144
WIRE 2624 240 2592 240
WIRE 2944 240 2944 160
WIRE 1856 256 1856 224
WIRE 2096 256 2096 224
WIRE 2304 256 2272 256
WIRE 2480 272 2480 240
WIRE 2880 288 2688 288
WIRE 2096 352 2096 320
WIRE 2944 384 2944 336
WIRE 3184 384 2944 384
WIRE 3408 384 3184 384
WIRE 3584 384 3408 384
WIRE 3760 384 3584 384
WIRE 3936 384 3760 384
WIRE 2944 400 2944 384
WIRE 2944 400 2816 400
WIRE 2272 416 2272 256
WIRE 2480 416 2480 336
WIRE 2480 416 2272 416
WIRE 2560 416 2480 416
WIRE 2656 416 2640 416
WIRE 2688 416 2656 416
WIRE 3584 416 3584 384
WIRE 3760 416 3760 384
WIRE 3936 416 3936 384
WIRE 2896 432 2816 432
WIRE 3184 448 3184 384
WIRE 3184 448 3152 448
WIRE 3408 448 3408 384
WIRE 3408 448 3376 448
WIRE 3184 480 3152 480
WIRE 3408 480 3376 480
WIRE 2656 560 2656 416
WIRE 2896 560 2896 432
WIRE 2896 560 2656 560
WIRE 3184 560 3184 480
WIRE 3408 560 3408 480
WIRE 3584 560 3584 512
WIRE 3760 560 3760 512
WIRE 3936 560 3936 512
WIRE 3184 720 3184 640
WIRE 3408 720 3408 640
WIRE 3584 720 3584 640
WIRE 3760 720 3760 640
WIRE 3936 720 3936 640
FLAG 2176 -80 +V
FLAG 2288 -80 -V
FLAG 2288 0 0
FLAG 2176 0 0
FLAG 2432 208 +V
FLAG 2432 272 -V
FLAG 3136 48 0
FLAG 1856 336 0
FLAG 3408 720 0
FLAG 3584 720 0
FLAG 3760 720 0
FLAG 3312 464 HIGHC
FLAG 3712 496 LOWC
FLAG 3536 496 MEDC
FLAG 2416 1152 0
FLAG 2512 1040 0
FLAG 2624 960 0
FLAG 2416 1072 HIGHC
FLAG 2512 960 MEDC
FLAG 2624 880 LOWC
FLAG 3936 720 0
FLAG 3888 496 VLOWC
FLAG 2720 880 0
FLAG 2720 800 VLOWC
FLAG 2096 352 0
FLAG 2944 16 VTEST
FLAG 1888 224 VIN
FLAG 3184 720 0
FLAG 3088 464 VHIGHC
FLAG 2336 1280 0
FLAG 2336 1200 VHIGHC
FLAG 2688 384 +V
FLAG 2688 448 -V
FLAG 2688 96 VSUP
FLAG 2048 -80 VSUP
FLAG 2048 0 0
SYMBOL voltage 2176 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {vcc}
SYMBOL voltage 2288 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {vss}
SYMBOL res 2608 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL voltage 3136 -80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 10
SYMBOL cap 2576 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL voltage 1856 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -380 98 Left 2
SYMATTR Value PULSE(0 1 1n 1n 1n 60u 120u)
SYMATTR InstName V8
SYMBOL cap 2464 272 R0
SYMATTR InstName C4
SYMATTR Value 2n2
SYMBOL res 2272 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL npn 2880 240 R0
SYMATTR InstName Q3
SYMATTR Value 2SCR583D3
SYMBOL res 2656 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL npn 2624 192 R0
SYMATTR InstName Q4
SYMATTR Value 2SCR512P
SYMBOL res 2672 80 R0
WINDOW 3 36 68 Left 2
SYMATTR Value 10
SYMATTR InstName R10
SYMBOL res 3392 544 R0
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL res 3568 544 R0
SYMATTR InstName R11
SYMATTR Value 10
SYMBOL res 3744 544 R0
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL nmos 3536 416 R0
WINDOW 3 -85 108 Left 2
SYMATTR Value Si2318CDS
SYMATTR InstName M2
SYMBOL nmos 3712 416 R0
WINDOW 3 -80 102 Left 2
SYMATTR Value Si2318CDS
SYMATTR InstName M3
SYMBOL voltage 2416 1056 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PWL(0 0 1m 0 1.01m {von} 2m {von} 2.01m 0)
SYMBOL voltage 2512 944 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PWL(0 0 3m 0 3.01m {von} 4m {von} 4.01m 0)
SYMBOL voltage 2624 864 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PWL(0 0 5m 0 5.01m {von} 6m {von} 6.01m 0)
SYMBOL res 3920 544 R0
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL nmos 3888 416 R0
WINDOW 3 -80 102 Left 2
SYMATTR Value Si2318CDS
SYMATTR InstName M4
SYMBOL voltage 2720 784 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value PWL(0 0 7m 0 7.01m {von} 8m {von} 8.01m 0)
SYMBOL res 2048 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL cap 2080 256 R0
SYMATTR InstName C5
SYMATTR Value 1n5
SYMBOL res 3168 544 R0
SYMATTR InstName R1
SYMATTR Value 0.33
SYMBOL voltage 2336 1184 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL(0 0 0 0 0.01m {von} 1m {von} 1.01m 0)
SYMBOL res 2928 64 R0
SYMATTR InstName Rsense
SYMATTR Value 0.1
SYMBOL TL07XH_TL08XH 2368 240 R0
SYMATTR InstName U1
SYMATTR Value TLV9002
SYMBOL TL07XH_TL08XH 2752 416 M0
SYMATTR InstName U2
SYMATTR Value TLV9002
SYMBOL voltage 2048 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value {vsup}
SYMBOL n-channel-mos 3344 464 R0
SYMATTR InstName U3
SYMATTR SpiceModel SiRA26DP
SYMBOL n-channel-mos 3120 464 R0
WINDOW 3 -41 58 Top 2
SYMATTR InstName U4
SYMATTR SpiceModel SiRA26DP
TEXT 3424 640 Left 2 ;0-1A
TEXT 3608 656 Left 2 ;0-100mA
TEXT 3960 656 Left 2 ;0-1mA
TEXT 3784 656 Left 2 ;0-10mA
TEXT 1784 752 Left 2 !.param von=5
TEXT 1784 776 Left 2 !.tran 10m
TEXT 1784 728 Left 2 !.param vcc=2.5 vss=-2.5 vsup=5
TEXT 3208 648 Left 2 ;0-3A
TEXT 2984 272 Left 2 ;max power = 10W
TEXT 1784 680 Left 2 !.lib lib/tlv9002.lib
TEXT 1784 704 Left 2 !;model IDEAL_SW SW(Ron=0.075 Roff = 10Meg Vt=.5 Vh=-.4)
TEXT 1784 656 Left 2 !.lib lib/SiRA26DP.lib
